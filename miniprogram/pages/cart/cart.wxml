<!-- 底部 -->
<view>
    <view class="top-title">
        <text>一个小店</text>
        <text wx:if="{{!isEditor}}" style="float: right" bind:tap="editor">编辑</text>
        <text wx:else style="float: right" bind:tap="editor">完成</text>
    </view>
    <view wx:if="{{carts.length==0}}" class="nothing">
        <text>购物车空空如也哦~</text>
        <view>快去挑选喜欢的东西吧~</view>
    </view>
    <view wx:else class="list">
        <block wx:for="{{carts}}" wx:key="_id">
            <view class="van-hairline--bottom cart-item">
                <van-checkbox data-index='{{index}}' value="{{ item.selected }}" bind:change="selectItem"></van-checkbox>
                <image src="{{item.img}}" />
                <view class="cart-item-right  van-ellipsis">
                    <text>{{item.name}}</text>
                    <text>{{item.version}}</text>
                    <view>
                        <text style="color: #f44;">￥{{item.price / 100}}</text>
                        <van-stepper data-index='{{index}}' style="float: right;" value="{{ item.num }}" bind:change="stepperChange" />
                    </view>
                </view>
            </view>
        </block>
    </view>
</view>
<!-- 提交结算 -->
<van-submit-bar wx:if="{{!isEditor}}" disabled='{{subdisabled}}' safe-area-inset-bottom='{{false}}' price="{{ totalPrice }}" button-text="结算" bind:submit="settlement">
    <van-checkbox style="margin-left: 20rpx" value="{{ allChecked }}" bind:change="selectAll">
        全选
    </van-checkbox>
</van-submit-bar>
<!-- 删除购物车物品 -->
<van-submit-bar wx:else disabled='{{deleteAbled}}' safe-area-inset-bottom='{{false}}' button-text="删除" bind:submit="deleteCart"></van-submit-bar>